---
title: 코드 배포
seo-title: 코드 배포
description: 'null'
seo-description: 파이프라인 (저장소, 환경 및 테스트 환경) 를 구성했으면 코드를 배포할 준비가 되었습니다. 자세한 내용을 살펴보려면 이 페이지를 따르십시오.
uuid: 4 E 3807 E 1-437 E -4922-BA 48-0 BCADF 293 A 99
contentOwner: Jsyal
products: sg_ Experiencemanager/Cloudmanager
topic-tags: using
discoiquuid: 832 A 4647-9 B 83-4 A 9 D-B 373-30 FE 16092 B 15
translation-type: tm+mt
source-git-commit: 548d18f251cf8c4c827d2208fec04cde235ce731

---


# 코드 배포 {#deploy-your-code}

## Cloud Manager를 사용하여 코드 배포 {#deploying-code-with-cloud-manager}

**파이프라인** (저장소, 환경 및 테스트 환경) 를 구성했으면 코드를 배포할 준비가 되었습니다.

1. 클라우드 관리자에서 **배포를** 클릭하여 배포 프로세스를 시작합니다.

   ![](assets/Deploy1.png)

1. **파이프라인 실행** 화면이 표시됩니다.

   **빌드를** 클릭하여 프로세스를 시작합니다.

   ![](assets/Deploy2.png)

1. 전체 빌드 프로세스에서 코드를 배포합니다.

   다음 단계는 빌드 프로세스와 관련되어 있습니다.

   1. 스테이지 배포
   1. 스테이지 테스트
   1. 프로덕션 배포
   >[!NOTE]
   >
   >또한 테스트 기준에 대해 로그를 보거나 결과를 검토하여 다양한 배포 프로세스의 단계를 검토할 수 있습니다.

   **스테이지 배포에는 다음**&#x200B;단계가 포함됩니다.

   * 빌드 및 유닛 테스트
   * 코드 스캔
   * 스테이지로 배포
   ![](assets/Stage_Deployment1.png)

   **스테이지 테스트에는 다음**&#x200B;단계가 포함됩니다.

   * 보안 테스트
   * 성능 테스트
   ![](assets/Stage_Testing1.png)

   **프로덕션 배포에는 다음**&#x200B;단계가 포함됩니다.

   * **승인 신청 (활성화된** 경우)
   * **프로덕션 배포** 예약 (활성화된 경우)
   * **CSE 지원** (활성화된 경우)
   * **프로덕션에 배포**
   ![](assets/Prod_Deployment1.png)

   >[!NOTE]
   >
   >The **schedule production deployment** is enabled while configuring the pipeline.
   >
   >
   >이 옵션을 사용하면 프로덕션 배포를 예약하거나 **지금** 클릭하여 프로덕션 배포를 즉시 실행할 수 있습니다.
   >
   >
   >예약된 날짜와 시간은 사용자의 시간대에서 지정됩니다.
   >
   >
   >**확인을** 클릭하여 설정을 확인합니다.

   ![](assets/Production_Deployment1.png)

   배포 일정을 확인하면 코드 배포가 완료됩니다.

   위 단계에서 **[지금]** 옵션이 선택되어 있는 화면이 표시됩니다.

   ![](assets/Production_Deployment2.png)

## 배포 프로세스 {#deployment-process}

다음 섹션에서는 AEM 및 Dispatcher 패키지가 단계 단계와 프로덕션 단계에서 배포되는 방법에 대해 설명합니다.

클라우드 관리자는 빌드 프로세스에서 생성한 모든 Target/*.zip 파일을 스토리지 위치에 업로드합니다. 이러한 가공물은 파이프라인의 배포 단계 동안 이 위치에서 검색됩니다.

클라우드 관리자가 비프로덕션 토폴로지로 배포할 때 가능한 한 빨리 배포를 완료하여 다음과 같이 결함이 모든 노드에 동시에 배포됩니다.

1. 클라우드 관리자는 각 아티팩트가 AEM 또는 Dispatcher 패키지인지 여부를 결정합니다.
1. 클라우드 관리자는 배포 밸런서에서 모든 디스패처를 제거하여 배포하는 동안 환경을 분리합니다.
1. 각 AEM 가공물은 패키지 관리자 API를 통해 각 AEM 인스턴스에 배포되며, 패키지 종속성은 배포 순서를 결정합니다.

   패키지를 사용하여 새로운 기능을 설치하고, 인스턴스 간에 컨텐츠를 전송하고, 저장소 컨텐츠를 백업하는 방법에 대한 자세한 내용은 패키지 사용 방법을 참조하십시오.

   >[!NOTE]
   >
   >모든 AEM 가공물은 작성자 및 게시자 모두에 배포됩니다. 런타임 모드는 노드별 구성이 필요할 때 활용되어야 합니다. Runmode를 사용하여 특정 목적으로 AEM 인스턴스를 조정하는 방법을 자세히 알아보려면 실행 모드를 참조하십시오.

1. Dispatcher 가공물은 다음과 같이 각 Dispatcher에 배포됩니다.

   1. 현재 구성이 백업되고 임시 위치에 복사됩니다.
   1. 변경이 불가능한 파일을 제외한 모든 구성이 삭제됩니다. 자세한 내용은 Dispatcher 구성 관리를 참조하십시오. 이렇게 하면 디렉토리 뒤에 고아 파일이 없는지 확인할 수 있습니다.
   1. 가공물이 httpd 디렉토리로 추출됩니다. 변경되지 않은 파일은 덮어쓰지 않습니다. Git 리포지토리의 변경 불가능한 파일은 배포 시 무시됩니다. 이러한 파일은 AMS Dispatcher 프레임워크의 핵심 파일이며 변경할 수 없습니다.
   1. Apache는 구성 테스트를 수행합니다. 오류가 발견되지 않으면 서비스가 다시 로드됩니다. 오류가 발생하면 백업에서 복원되고 서비스가 다시 로드되며 오류가 다시 클라우드 관리자로 보고됩니다.
   1. 파이프라인 구성에 지정된 각 경로는 디스패처 캐시에서 무효화 또는 플러시됩니다.
   >[!NOTE]
   >
   >클라우드 관리자는 디스패처 아티팩트가 전체 파일 세트를 포함할 것으로 예상합니다. 모든 Dispatcher 구성 파일이 Git 리포지토리에 있어야 합니다. 파일 또는 폴더가 누락되면 배포 오류가 발생합니다.

1. 모든 AEM 및 Dispatcher 패키지를 모든 노드에 성공적으로 배포한 다음, 배너는 다시 로드 밸런서에 추가되고 배포가 완료됩니다.

### 프로덕션 단계에 배포 {#deployment-production-phase}

프로덕션 토폴로지에 배포하는 프로세스는 AEM 사이트 방문자에 대한 영향을 최소화하기 위해 약간 다릅니다.

프로덕션 배포는 일반적으로 위의 동일한 단계를 따르지만, 롤링 방식으로는 다음과 같습니다.

1. AEM 패키지를 작성자에게 배포합니다.
1. 로드 밸런서에서 Dispatcher 1를 분리합니다.
1. 게시 1에 AEM 패키지를 배포하고 Dispatcher 1에 Dispatcher 패키지를 배포하고 Dispatcher 캐시를 플러시합니다.
1. Dispatcher 1를 다시 로드 밸런서에 넣습니다.
1. Dispatcher 1 이 서비스로 돌아가면 로드 밸런서에서 Dispatcher 2를 분리합니다.
1. AEM 패키지를 게시 2에 배포하고 Dispatcher 패키지를 Dispatcher 2에 배포하고 Dispatcher 캐시를 플러시합니다.
1. Dispatcher 2를 다시 로드 밸런서에 넣습니다.
이 프로세스는 토폴로지가 토폴로지의 모든 게시자 및 경로에 도달할 때까지 계속됩니다.


